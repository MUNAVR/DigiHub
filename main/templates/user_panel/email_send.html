{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User_Login</title>
    <link rel="stylesheet" href="{% static 'login.css' %}">
    <script src="{% static 'index.js' %}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="jquery-3.6.4.min.js"></script>
</head>
<body>
   <div class="login-page">
    <div class="form">
        <h2>Email OTP Verification</h2>
        <form class="login-form" id="form" method="POST" onsubmit="return validateForm()">
            {% csrf_token %}
            <input type="email" name="email" id="email" placeholder="Email" required>
            <span id="email-error" class="error-message"></span>
            <button type="submit" class="btn btn-primary">Send OTP</button>
        </form>
    </div>
</div>

<script>
    function validateForm() {
        var emailInput = document.getElementById("email");
        var emailError = document.getElementById("email-error");
        var email = emailInput.value.trim();

        // Regular expression for email validation
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        // Check if the email input is empty
        if (email === "") {
            emailError.textContent = "Please enter your email address.";
            emailInput.focus();
            return false;
        }

        // Check if the email format is valid
        if (!emailRegex.test(email)) {
            emailError.textContent = "Please enter a valid email address.";
            emailInput.focus();
            return false;
        }

        // Additional custom validation criteria (e.g., specific domain)
        // Example: Check if the email domain is example.com
<!--        if (!email.endsWith("@example.com")) {-->
<!--            emailError.textContent = "Email must be from example.com domain.";-->
<!--            emailInput.focus();-->
<!--            return false;-->
<!--        }-->

        // If all validation passes, clear any previous error message
        emailError.textContent = "";
        return true;
    }
</script>


</body>
</html>